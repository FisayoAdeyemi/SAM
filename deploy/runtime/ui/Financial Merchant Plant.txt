Financial Merchant Plant
885
465
38
Numeric

1
17
Name
5
23
mp_ancserv1_percent_gen
X
3
246
Y
3
279
Width
3
90
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
DataLifetimeMatrix

1
15
Name
5
19
mp_ancserv1_revenue
X
3
246
Y
3
225
Width
3
184
Height
3
24
Tool Tip
5
0
Mode
3
1
ColumnLabels
5
35
Cleared capacity (MW),Price ($/MWh)
Label
5
28
Ancillary service #1 revenue
Description
5
0
TabOrder
3
4294967295
AnalysisPeriod
3
25
AnnualEnabled
2
0
WeeklyEnabled
2
0
ShowMode
2
1
DataLifetimeMatrix

1
15
Name
5
26
mp_ancserv1_revenue_single
X
3
246
Y
3
252
Width
3
184
Height
3
24
Tool Tip
5
0
Mode
3
1
ColumnLabels
5
13
Price ($/MWh)
Label
5
28
Ancillary service #1 revenue
Description
5
0
TabOrder
3
4294967295
AnalysisPeriod
3
25
AnnualEnabled
2
0
WeeklyEnabled
2
0
ShowMode
2
1
Numeric

1
17
Name
5
23
mp_ancserv2_percent_gen
X
3
246
Y
3
426
Width
3
90
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
DataLifetimeMatrix

1
15
Name
5
19
mp_ancserv2_revenue
X
3
246
Y
3
372
Width
3
184
Height
3
24
Tool Tip
5
0
Mode
3
1
ColumnLabels
5
35
Cleared capacity (MW),Price ($/MWh)
Label
5
28
Ancillary service #1 revenue
Description
5
0
TabOrder
3
4294967295
AnalysisPeriod
3
25
AnnualEnabled
2
0
WeeklyEnabled
2
0
ShowMode
2
1
DataLifetimeMatrix

1
15
Name
5
26
mp_ancserv2_revenue_single
X
3
246
Y
3
399
Width
3
184
Height
3
24
Tool Tip
5
0
Mode
3
1
ColumnLabels
5
13
Price ($/MWh)
Label
5
28
Ancillary service #2 revenue
Description
5
0
TabOrder
3
4294967295
AnalysisPeriod
3
25
AnnualEnabled
2
0
WeeklyEnabled
2
0
ShowMode
2
1
Numeric

1
17
Name
5
23
mp_ancserv3_percent_gen
X
3
669
Y
3
279
Width
3
90
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
DataLifetimeMatrix

1
15
Name
5
19
mp_ancserv3_revenue
X
3
669
Y
3
225
Width
3
184
Height
3
24
Tool Tip
5
0
Mode
3
1
ColumnLabels
5
35
Cleared capacity (MW),Price ($/MWh)
Label
5
28
Ancillary service #3 revenue
Description
5
0
TabOrder
3
4294967295
AnalysisPeriod
3
25
AnnualEnabled
2
0
WeeklyEnabled
2
0
ShowMode
2
1
DataLifetimeMatrix

1
15
Name
5
26
mp_ancserv3_revenue_single
X
3
669
Y
3
252
Width
3
184
Height
3
24
Tool Tip
5
0
Mode
3
1
ColumnLabels
5
13
Price ($/MWh)
Label
5
28
Ancillary service #3 revenue
Description
5
0
TabOrder
3
4294967295
AnalysisPeriod
3
25
AnnualEnabled
2
0
WeeklyEnabled
2
0
ShowMode
2
1
Numeric

1
17
Name
5
23
mp_ancserv4_percent_gen
X
3
669
Y
3
426
Width
3
90
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
DataLifetimeMatrix

1
15
Name
5
19
mp_ancserv4_revenue
X
3
669
Y
3
372
Width
3
184
Height
3
24
Tool Tip
5
0
Mode
3
1
ColumnLabels
5
35
Cleared capacity (MW),Price ($/MWh)
Label
5
28
Ancillary service #1 revenue
Description
5
0
TabOrder
3
4294967295
AnalysisPeriod
3
25
AnnualEnabled
2
0
WeeklyEnabled
2
0
ShowMode
2
1
DataLifetimeMatrix

1
15
Name
5
26
mp_ancserv4_revenue_single
X
3
669
Y
3
399
Width
3
184
Height
3
24
Tool Tip
5
0
Mode
3
1
ColumnLabels
5
13
Price ($/MWh)
Label
5
28
Ancillary service #4 revenue
Description
5
0
TabOrder
3
4294967295
AnalysisPeriod
3
25
AnnualEnabled
2
0
WeeklyEnabled
2
0
ShowMode
2
1
CheckBox

1
9
Name
5
18
mp_enable_ancserv1
X
3
18
Y
3
198
Width
3
198
Height
3
24
Tool Tip
5
0
Caption
5
27
Enable ancillary service #1
State
2
0
TabOrder
3
4294967295
RadioChoice

1
11
Name
5
30
mp_enable_ancserv1_percent_gen
X
3
18
Y
3
225
Width
3
222
Height
3
51
Tool Tip
5
0
Selection
3
0
Items
6
2
Cleared capacity and price
Percent of installed capacity and price
ShowCaptions
2
1
Horizontal
2
0
TabOrder
3
4294967295
CheckBox

1
9
Name
5
18
mp_enable_ancserv2
X
3
18
Y
3
345
Width
3
198
Height
3
24
Tool Tip
5
0
Caption
5
27
Enable ancillary service #2
State
2
0
TabOrder
3
4294967295
RadioChoice

1
11
Name
5
30
mp_enable_ancserv2_percent_gen
X
3
18
Y
3
372
Width
3
222
Height
3
51
Tool Tip
5
0
Selection
3
0
Items
6
2
Cleared capacity and price
Percent of installed capacity and price
ShowCaptions
2
1
Horizontal
2
0
TabOrder
3
4294967295
CheckBox

1
9
Name
5
18
mp_enable_ancserv3
X
3
441
Y
3
198
Width
3
204
Height
3
24
Tool Tip
5
0
Caption
5
27
Enable ancillary service #3
State
2
0
TabOrder
3
4294967295
RadioChoice

1
11
Name
5
30
mp_enable_ancserv3_percent_gen
X
3
441
Y
3
225
Width
3
222
Height
3
51
Tool Tip
5
0
Selection
3
0
Items
6
2
Cleared capacity and price
Percent of installed capacity and price
ShowCaptions
2
1
Horizontal
2
0
TabOrder
3
4294967295
CheckBox

1
9
Name
5
18
mp_enable_ancserv4
X
3
441
Y
3
345
Width
3
201
Height
3
24
Tool Tip
5
0
Caption
5
27
Enable ancillary service #4
State
2
0
TabOrder
3
4294967295
RadioChoice

1
11
Name
5
30
mp_enable_ancserv4_percent_gen
X
3
441
Y
3
372
Width
3
222
Height
3
51
Tool Tip
5
0
Selection
3
0
Items
6
2
Cleared capacity and price
Percent of installed capacity and price
ShowCaptions
2
1
Horizontal
2
0
TabOrder
3
4294967295
CheckBox

1
9
Name
5
31
mp_enable_energy_market_revenue
X
3
18
Y
3
30
Width
3
219
Height
3
24
Tool Tip
5
0
Caption
5
28
Enable energy market revenue
State
2
1
TabOrder
3
4294967295
RadioChoice

1
11
Name
5
28
mp_enable_market_percent_gen
X
3
18
Y
3
57
Width
3
222
Height
3
51
Tool Tip
5
0
Selection
3
0
Items
6
2
Cleared capacity and price
Percent of installed capacity and price
ShowCaptions
2
1
Horizontal
2
0
TabOrder
3
4294967295
DataLifetimeMatrix

1
15
Name
5
24
mp_energy_market_revenue
X
3
471
Y
3
57
Width
3
184
Height
3
24
Tool Tip
5
0
Mode
3
1
ColumnLabels
5
35
Cleared capacity (MW),Price ($/MWh)
Label
5
21
Energy market revenue
Description
5
0
TabOrder
3
4294967295
AnalysisPeriod
3
25
AnnualEnabled
2
0
WeeklyEnabled
2
0
ShowMode
2
1
DataLifetimeMatrix

1
15
Name
5
31
mp_energy_market_revenue_single
X
3
471
Y
3
84
Width
3
184
Height
3
24
Tool Tip
5
0
Mode
3
1
ColumnLabels
5
13
Price ($/MWh)
Label
5
21
Energy market revenue
Description
5
0
TabOrder
3
4294967295
AnalysisPeriod
3
25
AnnualEnabled
2
0
WeeklyEnabled
2
0
ShowMode
2
1
Numeric

1
17
Name
5
21
mp_market_percent_gen
X
3
471
Y
3
111
Width
3
90
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Divider

1
10
Name
5
9
object 21
X
3
441
Y
3
318
Width
3
405
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
20
Ancillary Service #4
Bold
2
1
Divider

1
10
Name
5
10
object 211
X
3
441
Y
3
174
Width
3
405
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
20
Ancillary Service #3
Bold
2
1
Divider

1
10
Name
5
10
object 213
X
3
24
Y
3
318
Width
3
405
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
20
Ancillary Service #2
Bold
2
1
Divider

1
10
Name
5
10
object 214
X
3
24
Y
3
174
Width
3
405
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
20
Ancillary Service #1
Bold
2
1
GroupBox

1
8
Name
5
9
object 41
X
3
6
Y
3
153
Width
3
850
Height
3
311
Tool Tip
5
0
Caption
5
32
Ancillary Service Market Revenue
Bold
2
1
GroupBox

1
8
Name
5
10
object 410
X
3
6
Y
3
3
Width
3
850
Height
3
145
Tool Tip
5
0
Caption
5
21
Energy Market Revenue
Bold
2
1
Label

1
13
Name
5
8
object 7
X
3
69
Y
3
426
Width
3
171
Height
3
24
Tool Tip
5
0
Caption
5
29
Percent of installed capacity
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
1
AlignTop
2
0
Label

1
13
Name
5
10
object 720
X
3
492
Y
3
426
Width
3
171
Height
3
24
Tool Tip
5
0
Caption
5
29
Percent of installed capacity
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
1
AlignTop
2
0
Label

1
13
Name
5
10
object 722
X
3
492
Y
3
279
Width
3
171
Height
3
24
Tool Tip
5
0
Caption
5
29
Percent of installed capacity
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
1
AlignTop
2
0
Label

1
13
Name
5
10
object 723
X
3
69
Y
3
279
Width
3
171
Height
3
24
Tool Tip
5
0
Caption
5
29
Percent of installed capacity
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
1
AlignTop
2
0
Label

1
13
Name
5
10
object 730
X
3
291
Y
3
84
Width
3
171
Height
3
24
Tool Tip
5
0
Caption
5
5
Price
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
1
AlignTop
2
0
Label
1
13
Name
5
10
object 731
X
3
291
Y
3
111
Width
3
171
Height
3
24
Tool Tip
5
0
Caption
5
29
Percent of installed capacity
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
1
AlignTop
2
0
Label

1
13
Name
5
10
object 735
X
3
291
Y
3
57
Width
3
171
Height
3
24
Tool Tip
5
0
Caption
5
26
Cleared capacity and price
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
1
AlignTop
2
0

27
forecast_price_signal_model
3
1
 
 
Merchant Plant Revenue
0
8
1
1
1
1
0
Default
mp_ancserv1_percent_gen
3
1
 
 %
Merchant Plant Revenue
0
0
1
1
1
1
0
Default
mp_ancserv1_revenue
3
3
Ancillary service #1 revenue
Cleared capacity (MW),Price ($/MWh)
Merchant Plant Revenue
0
3
1
3
1
2
0 0 

DataLifetimeMatrix
mp_ancserv1_revenue_single
3
3
Ancillary service #1 revenue
Price ($/MWh)
Merchant Plant Revenue
0
3
1
3
1
1
0
DataLifetimeMatrix
mp_ancserv2_percent_gen
3
1
 
 %
Merchant Plant Revenue
0
0
1
1
1
1
0
Default
mp_ancserv2_revenue
3
3
Ancillary service #2 revenue
Cleared capacity (MW),Price ($/MWh)
Merchant Plant Revenue
0
3
1
3
1
2
0 0 

DataLifetimeMatrix
mp_ancserv2_revenue_single
3
3
Ancillary service #2 revenue
Price ($/MWh)
Merchant Plant Revenue
0
3
1
3
1
1
0
DataLifetimeMatrix
mp_ancserv3_percent_gen
3
1
 
 %
Merchant Plant Revenue
0
0
1
1
1
1
0
Default
mp_ancserv3_revenue
3
3
Ancillary service #3 revenue
Cleared capacity (MW),Price ($/MWh)
Merchant Plant Revenue
0
3
1
3
1
2
0 0 

DataLifetimeMatrix
mp_ancserv3_revenue_single
3
3
Ancillary service #3 revenue
Price ($/MWh)
Merchant Plant Revenue
0
3
1
3
1
1
0
DataLifetimeMatrix
mp_ancserv4_percent_gen
3
1
 
 %
Merchant Plant Revenue
0
0
1
1
1
1
0
Default
mp_ancserv4_revenue
3
3
Ancillary service #4 revenue
Cleared capacity (MW),Price ($/MWh)
Merchant Plant Revenue
0
3
1
3
1
2
0 0 

DataLifetimeMatrix
mp_ancserv4_revenue_single
3
3
Ancillary service #4 revenue
Price ($/MWh)
Merchant Plant Revenue
0
3
1
3
1
1
0
DataLifetimeMatrix
mp_enable_ancserv1
3
1
Enable ancillary service #1
 
Merchant Plant Revenue
0
3
1
1
1
1
0
CheckBox
mp_enable_ancserv1_percent_gen
3
1
 
 
Merchant Plant Revenue
0
0
1
1
1
1
0
Default
mp_enable_ancserv2
3
1
Enable ancillary service #2
 
Merchant Plant Revenue
0
3
1
1
1
1
0
CheckBox
mp_enable_ancserv2_percent_gen
3
1
 
 
Merchant Plant Revenue
0
0
1
1
1
1
0
Default
mp_enable_ancserv3
3
1
Enable ancillary service #3
 
Merchant Plant Revenue
0
3
1
1
1
1
0
CheckBox
mp_enable_ancserv3_percent_gen
3
1
 
 
Merchant Plant Revenue
0
0
1
1
1
1
0
Default
mp_enable_ancserv4
3
1
Enable ancillary service #4
 
Merchant Plant Revenue
0
3
1
1
1
1
0
CheckBox
mp_enable_ancserv4_percent_gen
3
1
 
 
Merchant Plant Revenue
0
0
1
1
1
1
0
Default
mp_enable_energy_market_revenue
3
1
Enable energy market revenue
 
Merchant Plant Revenue
0
3
1
1
1
1
1
CheckBox
mp_enable_market_percent_gen
3
1
 
 
Merchant Plant Revenue
0
0
1
1
1
1
0
Default
mp_energy_market_revenue
3
3
Energy market revenue
Cleared capacity (MW),Price ($/MWh)
Merchant Plant Revenue
0
3
1
3
1
2
0 0 

DataLifetimeMatrix
mp_energy_market_revenue_single
3
3
Energy market revenue
Price ($/MWh)
Merchant Plant Revenue
0
3
1
3
1
1
0
DataLifetimeMatrix
mp_error_msg
3
4
 
 
Merchant Plant Revenue
0
8
1
4
2
""
Default
mp_market_percent_gen
3
1
 
 %
Merchant Plant Revenue
0
0
1
1
1
1
0
Default

1087
equations{'forecast_price_signal_model'} = define()
{
	if (financing() == "Merchant Plant")
		return 1;
	else
		return 0;
};


equations{ '$MIMO$ mp check cleared capacity' } = define() {
	
	data.analysis_period =  ${analysis_period};
	data.system_capacity =  ${system_capacity};
	data.mp_enable_energy_market_revenue =  ${mp_enable_energy_market_revenue};
	data.mp_enable_ancserv1 =  ${mp_enable_ancserv1};
	data.mp_enable_ancserv2 =  ${mp_enable_ancserv2};
	data.mp_enable_ancserv3 =  ${mp_enable_ancserv3};
	data.mp_enable_ancserv4 =  ${mp_enable_ancserv4};
	data.mp_energy_market_revenue =  ${mp_energy_market_revenue};
	data.mp_ancserv1_revenue =  ${mp_ancserv1_revenue};
	data.mp_ancserv2_revenue =  ${mp_ancserv2_revenue};
	data.mp_ancserv3_revenue =  ${mp_ancserv3_revenue};
	data.mp_ancserv4_revenue =  ${mp_ancserv4_revenue};

	success = ssc_eqn("mp_ancillary_services", data);
	
	if (!success){
		msgbox("success " + success);
		return 0;
	}
	
	if (data.mp_capacity_check == 0)
	{
		msg = data.mp_capacity_check_error;
		${mp_error_msg} = msg;
		msgbox(msg);
	}
	return 0;
};

2979
function update_merchant_plant_inputs()
{
	market_enable = value('mp_enable_energy_market_revenue');
	ancserv1_enable = value('mp_enable_ancserv1');
	ancserv2_enable = value('mp_enable_ancserv2');
	ancserv3_enable = value('mp_enable_ancserv3');
	ancserv4_enable = value('mp_enable_ancserv4');

	enable('mp_energy_market_revenue', market_enable && !value('mp_enable_market_percent_gen'));
	enable('mp_ancserv1_revenue', ancserv1_enable && !value('mp_enable_ancserv1_percent_gen'));
	enable('mp_ancserv2_revenue', ancserv2_enable && !value('mp_enable_ancserv2_percent_gen'));
	enable('mp_ancserv3_revenue', ancserv3_enable && !value('mp_enable_ancserv3_percent_gen'));
	enable('mp_ancserv4_revenue', ancserv4_enable && !value('mp_enable_ancserv4_percent_gen'));
	
	enable('mp_energy_market_revenue_single', market_enable && value('mp_enable_market_percent_gen'));
	enable('mp_ancserv1_revenue_single', ancserv1_enable && value('mp_enable_ancserv1_percent_gen'));
	enable('mp_ancserv2_revenue_single', ancserv2_enable && value('mp_enable_ancserv2_percent_gen'));
	enable('mp_ancserv3_revenue_single', ancserv3_enable && value('mp_enable_ancserv3_percent_gen'));
	enable('mp_ancserv4_revenue_single', ancserv4_enable && value('mp_enable_ancserv4_percent_gen'));
	
	enable('mp_enable_market_percent_gen', market_enable);
	enable('mp_enable_ancserv1_percent_gen', ancserv1_enable);
	enable('mp_enable_ancserv2_percent_gen', ancserv2_enable);
	enable('mp_enable_ancserv3_percent_gen', ancserv3_enable);
	enable('mp_enable_ancserv4_percent_gen', ancserv4_enable);
	
	enable('mp_market_percent_gen',market_enable && value('mp_enable_market_percent_gen'));
	enable('mp_ancserv1_percent_gen', ancserv1_enable && value('mp_enable_ancserv1_percent_gen'));
	enable('mp_ancserv2_percent_gen', ancserv2_enable && value('mp_enable_ancserv2_percent_gen'));
	enable('mp_ancserv3_percent_gen', ancserv3_enable && value('mp_enable_ancserv3_percent_gen'));
	enable('mp_ancserv4_percent_gen', ancserv4_enable && value('mp_enable_ancserv4_percent_gen'));
}

on_load{'Financial Merchant Plant'} = define() {
	property("mp_energy_market_revenue","AnalysisPeriod",value("analysis_period"));
	property("mp_ancserv1_revenue","AnalysisPeriod",value("analysis_period"));
	property("mp_ancserv2_revenue","AnalysisPeriod",value("analysis_period"));
	property("mp_ancserv3_revenue","AnalysisPeriod",value("analysis_period"));
	property("mp_ancserv4_revenue","AnalysisPeriod",value("analysis_period"));
	update_merchant_plant_inputs();
	refresh();
};

on_change{'mp_enable_energy_market_revenue'} =
on_change{'mp_enable_ancserv1'} =
on_change{'mp_enable_ancserv2'} =
on_change{'mp_enable_ancserv3'} =
on_change{'mp_enable_ancserv4'} = 
on_change{'mp_enable_market_percent_gen'} = 
on_change{'mp_enable_ancserv1_percent_gen'} = 
on_change{'mp_enable_ancserv2_percent_gen'} = 
on_change{'mp_enable_ancserv3_percent_gen'} = 
on_change{'mp_enable_ancserv4_percent_gen'} = define() {
	update_merchant_plant_inputs();
};